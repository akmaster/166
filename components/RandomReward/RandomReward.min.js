!(function () {
  'use strict';
  const e = document.getElementById('random_reward_enabled'),
    t = document.querySelector('.random-settings');
  e?.addEventListener('change', function () {
    (t.style.display = this.checked ? 'block' : 'none'),
      (document.querySelector('.toggle-label strong').textContent = this.checked
        ? 'AÃ§Ä±k'
        : 'KapalÄ±');
  }),
    document.getElementById('save-random-reward')?.addEventListener('click', function () {
      const e = document.getElementById('random_reward_enabled').checked,
        t = parseFloat(document.getElementById('random_min').value),
        n = parseFloat(document.getElementById('random_max').value);
      if (e) {
        if (isNaN(t) || t < 0.05 || t > 10) return void alert('Minimum: 0.05-10 TL arasÄ± olmalÄ±');
        if (isNaN(n) || n < 0.05 || n > 10) return void alert('Maximum: 0.05-10 TL arasÄ± olmalÄ±');
        if (t >= n) return void alert('Maximum deÄŸer, minimum deÄŸerden bÃ¼yÃ¼k olmalÄ±');
      }
      const a = new FormData();
      a.append('enabled', e),
        a.append('min', e ? t : 0),
        a.append('max', e ? n : 0),
        (this.disabled = !0),
        (this.textContent = 'ðŸ’¾ Kaydediliyor...'),
        fetch('/api/update-random-reward.php', { method: 'POST', body: a })
          .then((e) => e.json())
          .then((e) => {
            e.success
              ? (alert(e.message), location.reload())
              : (alert('Hata: ' + e.message),
                (this.disabled = !1),
                (this.textContent = 'ðŸ’¾ Rastgele Ã–dÃ¼l AyarÄ±nÄ± Kaydet'));
          })
          .catch((e) => {
            alert('BaÄŸlantÄ± hatasÄ±'),
              (this.disabled = !1),
              (this.textContent = 'ðŸ’¾ Rastgele Ã–dÃ¼l AyarÄ±nÄ± Kaydet');
          });
    });
})();
